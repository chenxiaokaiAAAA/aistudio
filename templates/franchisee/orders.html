<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>订单管理 - {{ account.company_name }}</title>
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; }
        .navbar-brand { font-weight: 600; }
        .card { border: none; box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075); }
        .card-header { background-color: #fff; border-bottom: 1px solid #dee2e6; }
        .filter-form { background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .table-sm th, .table-sm td { padding: 0.75rem 0.5rem; }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/franchisee/dashboard">
                <i class="fas fa-building"></i> {{ account.company_name }}
            </a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/franchisee/dashboard">首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/franchisee/orders">订单管理</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/franchisee/recharge-records">充值记录</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user"></i> {{ account.contact_person }}
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="/franchisee/logout">退出登录</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- 页面标题 -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2><i class="fas fa-shopping-cart"></i> 订单管理</h2>
            <div class="text-muted">
                剩余额度：<strong class="text-success">¥{{ "%.2f"|format(account.remaining_quota) }}</strong>
            </div>
        </div>

        <!-- 消息提示 -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ 'danger' if category == 'error' else category }} alert-dismissible fade show">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- 筛选表单 -->
        <div class="filter-form">
            <form method="GET" class="row g-3">
                <div class="col-md-3">
                    <select name="status" class="form-select">
                        <option value="">全部状态</option>
                        <option value="pending" {% if status == 'pending' %}selected{% endif %}>待处理</option>
                        <option value="processing" {% if status == 'processing' %}selected{% endif %}>处理中</option>
                        <option value="manufacturing" {% if status == 'manufacturing' %}selected{% endif %}>制作中</option>
                        <option value="shipped" {% if status == 'shipped' %}selected{% endif %}>已发货</option>
                        <option value="completed" {% if status == 'completed' %}selected{% endif %}>已完成</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <input type="date" name="start_date" class="form-control" value="{{ start_date }}" placeholder="开始日期">
                </div>
                <div class="col-md-3">
                    <input type="date" name="end_date" class="form-control" value="{{ end_date }}" placeholder="结束日期">
                </div>
                <div class="col-md-3">
                    <button type="submit" class="btn btn-primary w-100">筛选</button>
                </div>
            </form>
        </div>

        <!-- 订单列表 -->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">订单列表 ({{ orders|length }} 个)</h5>
            </div>
            <div class="card-body p-0">
                {% if orders %}
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead class="table-light">
                            <tr>
                                <th>订单号</th>
                                <th>客户信息</th>
                                <th>产品信息</th>
                                <th>订单金额</th>
                                <th>扣除金额</th>
                                <th>状态</th>
                                <th>确版状态</th>
                                <th>创建时间</th>
                                <th>操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for order in orders %}
                            <tr>
                                <td>
                                    <code>{{ order.order_number }}</code>
                                    <br><small class="text-muted">{{ order.source_type }}</small>
                                </td>
                                <td>
                                    <strong>{{ order.customer_name }}</strong>
                                    <br><small class="text-muted">{{ order.customer_phone }}</small>
                                    {% if order.customer_address %}
                                    <br><small class="text-muted">{{ order.customer_address[:30] }}{% if order.customer_address|length > 30 %}...{% endif %}</small>
                                    {% endif %}
                                </td>
                                <td>
                                    <strong>{{ order.product_name }}</strong>
                                    {% if order.size %}
                                    <br><small class="text-muted">尺寸：{{ order.size }}</small>
                                    {% endif %}
                                    {% if order.style_name %}
                                    <br><small class="text-muted">风格：{{ order.style_name }}</small>
                                    {% endif %}
                                </td>
                                <td>
                                    <strong class="text-primary">¥{{ "%.2f"|format(order.price) }}</strong>
                                </td>
                                <td>
                                    <strong class="text-warning">¥{{ "%.2f"|format(order.franchisee_deduction) }}</strong>
                                </td>
                                <td>
                                    {% if order.status == 'completed' %}
                                        <span class="badge bg-success">已完成</span>
                                    {% elif order.status == 'processing' %}
                                        <span class="badge bg-warning">处理中</span>
                                    {% elif order.status == 'manufacturing' %}
                                        <span class="badge bg-info">制作中</span>
                                    {% elif order.status == 'shipped' %}
                                        <span class="badge bg-primary">已发货</span>
                                    {% elif order.status == 'delivered' %}
                                        <span class="badge bg-primary">已发货</span>
                                    {% elif order.status == 'hd_ready' %}
                                        <span class="badge bg-secondary">高清就绪</span>
                                    {% else %}
                                        <span class="badge bg-secondary">{{ order.status }}</span>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if order.need_confirmation %}
                                        {% if order.franchisee_confirmed %}
                                            <span class="badge bg-success">已确认</span>
                                            {% if order.franchisee_confirmed_at %}
                                            <br><small class="text-muted">{{ order.franchisee_confirmed_at.strftime('%m-%d %H:%M') }}</small>
                                            {% endif %}
                                        {% elif order.status == 'completed' %}
                                            <span class="badge bg-warning">待确认</span>
                                            {% if order.confirmation_deadline %}
                                            <br><small class="text-muted">截止{{ order.confirmation_deadline.strftime('%m-%d %H:%M') }}</small>
                                            {% endif %}
                                        {% else %}
                                            <span class="badge bg-secondary">未到确认阶段</span>
                                        {% endif %}
                                    {% else %}
                                        <span class="text-muted">无需确版</span>
                                    {% endif %}
                                </td>
                                <td>
                                    {{ order.created_at.strftime('%Y-%m-%d') }}
                                    <br><small class="text-muted">{{ order.created_at.strftime('%H:%M') }}</small>
                                </td>
                                <td>
                                    <div class="btn-group btn-group-sm">
                                        <button type="button" class="btn btn-outline-info" 
                                                data-bs-toggle="modal" data-bs-target="#orderModal{{ order.id }}">
                                            详情
                                        </button>
                                        {% if order.need_confirmation and order.status == 'completed' and not order.franchisee_confirmed %}
                                        <button type="button" class="btn btn-success btn-sm confirm-order-btn" 
                                                data-order-id="{{ order.id }}" data-order-number="{{ order.order_number }}">
                                            确认
                                        </button>
                                        {% endif %}
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="text-center py-5">
                    <div class="text-muted">
                        <i class="fas fa-shopping-cart fa-3x mb-3"></i>
                        <p>暂无订单记录</p>
                        {% if status or start_date or end_date %}
                        <a href="/franchisee/orders" class="btn btn-primary">清除筛选条件</a>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- 返回按钮 -->
        <div class="mt-4">
            <a href="/franchisee/dashboard" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> 返回首页
            </a>
        </div>
    </div>

    <!-- 订单详情模态框 -->
    {% for order in orders %}
    <div class="modal fade" id="orderModal{{ order.id }}" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">订单详情 - {{ order.order_number }}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>客户信息</h6>
                            <table class="table table-sm">
                                <tr><td>姓名</td><td>{{ order.customer_name }}</td></tr>
                                <tr><td>电话</td><td>{{ order.customer_phone }}</td></tr>
                                {% if order.customer_address %}
                                <tr><td>地址</td><td>{{ order.customer_address }}</td></tr>
                                {% endif %}
                                {% if order.customer_note %}
                                <tr><td>备注</td><td>{{ order.customer_note }}</td></tr>
                                {% endif %}
                            </table>
                        </div>
                        <div class="col-md-6">
                            <h6>订单信息</h6>
                            <table class="table table-sm">
                                <tr><td>产品</td><td>{{ order.product_name }}</td></tr>
                                {% if order.size %}
                                <tr><td>尺寸</td><td>{{ order.size }}</td></tr>
                                {% endif %}
                                {% if order.style_name %}
                                <tr><td>风格</td><td>{{ order.style_name }}</td></tr>
                                {% endif %}
                                <tr><td>金额</td><td class="text-primary">¥{{ "%.2f"|format(order.price) }}</td></tr>
                                <tr><td>扣除</td><td class="text-warning">¥{{ "%.2f"|format(order.franchisee_deduction) }}</td></tr>
                                <tr><td>状态</td><td>
                                    {% if order.status == 'completed' %}
                                        <span class="badge bg-success">已完成</span>
                                    {% elif order.status == 'processing' %}
                                        <span class="badge bg-warning">处理中</span>
                                    {% elif order.status == 'manufacturing' %}
                                        <span class="badge bg-info">制作中</span>
                                    {% elif order.status == 'shipped' %}
                                        <span class="badge bg-primary">已发货</span>
                                    {% elif order.status == 'delivered' %}
                                        <span class="badge bg-primary">已发货</span>
                                    {% elif order.status == 'hd_ready' %}
                                        <span class="badge bg-secondary">高清就绪</span>
                                    {% else %}
                                        <span class="badge bg-secondary">{{ order.status }}</span>
                                    {% endif %}
                                </td></tr>
                                <tr><td>创建时间</td><td>{{ order.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td></tr>
                            </table>
                        </div>
                    </div>
                    {% if order.logistics_info %}
                    <div class="mt-3">
                        <h6>物流信息</h6>
                        {% set logistics = order.logistics_info | from_json %}
                        {% if logistics %}
                        <!-- 新格式：JSON格式的物流信息 -->
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>快递公司:</strong> {{ logistics.company or '未知' }}</p>
                                        <p><strong>快递单号:</strong> 
                                            {% if logistics.tracking_number %}
                                            <a href="https://www.kuaidi100.com/chaxun?com={{ logistics.company }}&nu={{ logistics.tracking_number }}" target="_blank" class="text-decoration-none">
                                                {{ logistics.tracking_number }} <i class="fas fa-external-link-alt"></i>
                                            </a>
                                            {% else %}
                                            无
                                            {% endif %}
                                        </p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>状态:</strong> 
                                            {% if logistics.status == 'shipped' %}
                                            <span class="badge bg-primary">已发货</span>
                                            {% elif logistics.status == 'delivered' %}
                                            <span class="badge bg-success">已送达</span>
                                            {% elif logistics.status == 'in_transit' %}
                                            <span class="badge bg-info">运输中</span>
                                            {% elif logistics.status == 'out_for_delivery' %}
                                            <span class="badge bg-warning">派送中</span>
                                            {% elif logistics.status == 'exception' %}
                                            <span class="badge bg-danger">异常</span>
                                            {% else %}
                                            <span class="badge bg-secondary">{{ logistics.status or '未知' }}</span>
                                            {% endif %}
                                        </p>
                                        <p><strong>更新时间:</strong> {{ logistics.update_time or '未知' }}</p>
                                    </div>
                                </div>
                                {% if logistics.remark %}
                                <p><strong>备注:</strong> {{ logistics.remark }}</p>
                                {% endif %}
                                {% if logistics.source == 'manual' %}
                                <div class="mt-2">
                                    <small class="text-muted">
                                        <i class="fas fa-edit"></i> 此物流信息为手动录入
                                    </small>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        {% else %}
                        <!-- 旧格式：纯文本格式的物流信息 -->
                        <div class="alert alert-info">
                            {{ order.logistics_info }}
                        </div>
                        {% endif %}
                    </div>
                    {% else %}
                    <!-- 无物流信息 -->
                    <div class="mt-3">
                        <h6>物流信息</h6>
                        <div class="alert alert-secondary">
                            <i class="fas fa-info-circle"></i> 暂无快递物流信息
                            <br><small>厂家发货后会自动更新物流信息</small>
                        </div>
                    </div>
                    {% endif %}
                    
                    <!-- 图片预览 - 采用小程序风格 -->
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">客户上传原图</h6>
                                </div>
                                <div class="card-body">
                                    {% set images = order_images_dict.get(order.id, []) %}
                                    {% if images %}
                                        <div class="d-flex flex-wrap gap-2 justify-content-center">
                                            {% for img in images %}
                                                <div class="position-relative" style="max-width: 120px;">
                                                    <img src="{{ url_for('media_original', filename=img.path) }}" 
                                                         class="img-thumbnail clickable-image" 
                                                         alt="客户上传的原图" 
                                                         data-bs-toggle="modal" data-bs-target="#imageModalLarge{{ order.id }}"
                                                         style="max-width: 120px; max-height: 120px; object-fit: cover; cursor: pointer;">
                                                    {% if img.is_main %}
                                                        <span class="badge bg-success position-absolute top-0 start-0 m-1" style="font-size: 10px;">主图</span>
                                                    {% else %}
                                                        <span class="badge bg-secondary position-absolute top-0 start-0 m-1" style="font-size: 10px;">参考图</span>
                                                    {% endif %}
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <p class="mt-2 text-muted small text-center">点击图片查看大图</p>
                                    {% elif order.original_image %}
                                        <div class="text-center">
                                            <img src="{{ url_for('media_original', filename=order.original_image) }}" 
                                                 class="img-fluid rounded shadow-sm clickable-image" 
                                                 alt="客户上传的原图" 
                                                 data-bs-toggle="modal" data-bs-target="#imageModalLarge{{ order.id }}"
                                                 style="max-height: 250px; cursor: pointer;">
                                            <p class="mt-2 text-muted small">点击查看大图</p>
                                        </div>
                                    {% else %}
                                        <p class="text-muted py-4 text-center">暂无原图</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">完成的油画作品</h6>
                                </div>
                                <div class="card-body text-center">
                                    {% if order.final_image %}
                                        {% set image_url = url_for('media_final', filename=order.final_image) %}
                                        <img src="{{ image_url }}" 
                                             class="img-fluid rounded shadow-sm clickable-image" 
                                             alt="完成的油画作品" 
                                             data-bs-toggle="modal" data-bs-target="#imageModalLarge{{ order.id }}"
                                             style="max-height: 250px; cursor: pointer;">
                                    <p class="mt-2 text-muted small">点击查看大图</p>
                                    {% else %}
                                        <p class="text-muted py-4">尚未上传完成的作品</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 高清放大图（如果存在） -->
                    {% if order.hd_image %}
                    <div class="row mt-3">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <h6 class="mb-0">高清放大图</h6>
                                </div>
                                <div class="card-body text-center">
                                    {% set hd_image_url = url_for('media_hd', filename=order.hd_image) %}
                                    <img src="{{ hd_image_url }}" 
                                         class="img-fluid rounded shadow-sm clickable-image" 
                                         alt="高清放大图" 
                                         data-bs-toggle="modal" data-bs-target="#imageModalLarge{{ order.id }}"
                                         style="max-height: 300px; cursor: pointer;">
                                    <p class="mt-2 text-muted small">点击查看大图</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
                <div class="modal-footer">
                    {% if order.status == 'completed' and not order.franchisee_confirmed %}
                    <button type="button" class="btn btn-success confirm-production-btn" 
                            data-order-id="{{ order.id }}" data-order-number="{{ order.order_number }}">
                        确认制作 ✅
                    </button>
                    {% endif %}
                    {% if order.franchisee_confirmed and order.final_image %}
                    <a href="{{ url_for('download_final_clean', filename=order.final_image) }}" 
                       class="btn btn-primary">
                        <i class="fas fa-download"></i> 下载底片
                    </a>
                    {% endif %}
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    <!-- 简化的图片大图查看模态框 -->
    {% for order in orders %}
    <div class="modal fade" id="imageModalLarge{{ order.id }}" tabindex="-1" data-bs-backdrop="true" data-bs-keyboard="true">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content bg-transparent image-modal-content" style="border: none;">
                <div class="modal-body d-flex align-items-center justify-content-center p-0 image-modal-body" style="min-height: 100vh;">
                    <img id="largeImage{{ order.id }}" src="" class="img-fluid image-modal-img" alt="大图预览" 
                         style="max-height: 100vh; max-width: 100vw; cursor: default;">
                </div>
            </div>
        </div>
    </div>
    {% endfor %}

    <style>
        .clickable-image {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .clickable-image:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .modal-fullscreen {
            max-width: 100vw;
            max-height: 100vh;
        }
        .confirm-production-btn {
            font-weight: bold;
        }
        
        /* 简化的大图查看样式 */
        .click-everywhere-to-close {
            cursor: pointer;
        }
    </style>

    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script>
        // 处理确版确认按钮点击（列表中的确认按钮）
        document.querySelectorAll('.confirm-order-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const orderId = this.dataset.orderId;
                const orderNumber = this.dataset.orderNumber;
                
                if (confirm(`确认要确认订单 ${orderNumber} 吗？确认后将进入制作流程。`)) {
                    // 发送确认请求
                    fetch(`/franchisee/confirm-order/${orderId}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        }
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert(data.message);
                            // 刷新页面
                            location.reload();
                        } else {
                            alert('确认失败: ' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('确认失败，请联系管理员');
                    });
                }
            });
        });

        // 处理模态框中的确认制作按钮点击
        document.querySelectorAll('.confirm-production-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const orderId = this.dataset.orderId;
                const orderNumber = this.dataset.orderNumber;
                
                if (confirm(`确认开始制作订单 ${orderNumber} 吗？确认后图片将显示无水印版本。`)) {
                    // 发送确认请求
                    fetch(`/franchisee/confirm-order/${orderId}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        }
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            alert(data.message);
                            // 关闭当前模态框
                            const modal = bootstrap.Modal.getInstance(this.closest('.modal'));
                            modal.hide();
                            // 刷新页面
                            location.reload();
                        } else {
                            alert('确认失败: ' + data.message);
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('确认失败，请联系管理员');
                    });
                }
            });
        });

        // 处理图片点击查看大图
        document.querySelectorAll('.clickable-image').forEach(img => {
            img.addEventListener('click', function(e) {
                e.stopPropagation();
                const src = this.src;
                const modalTarget = this.dataset.bsTarget;
                if (!modalTarget) return;
                
                const modalId = modalTarget.replace('#', '');
                const orderId = modalId.replace('imageModalLarge', '');
                const largeImage = document.getElementById('largeImage' + orderId);
                
                if (largeImage) {
                    largeImage.src = src;
                    // 显示模态框
                    const modalElement = document.getElementById(modalId);
                    if (modalElement) {
                        const modal = new bootstrap.Modal(modalElement, {
                            backdrop: true,
                            keyboard: true
                        });
                        modal.show();
                    }
                }
            });
        });
        
        // 添加键盘ESC关闭支持
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                // 关闭所有打开的大图模态框
                document.querySelectorAll('.modal.show').forEach(modal => {
                    if (modal.id.includes('imageModalLarge')) {
                        const bootstrapModal = bootstrap.Modal.getInstance(modal);
                        if (bootstrapModal) {
                            bootstrapModal.hide();
                            // 确保移除遮罩层
                            const backdrop = document.querySelector('.modal-backdrop');
                            if (backdrop) {
                                backdrop.remove();
                            }
                            document.body.classList.remove('modal-open');
                            document.body.style.overflow = '';
                            document.body.style.paddingRight = '';
                        }
                    }
                });
            }
        });
        
        // 点击模态框背景关闭大图（点击空白处）
        document.addEventListener('click', function(event) {
            // 检查是否点击了图片模态框的空白区域
            if (event.target.classList.contains('image-modal-content') || 
                event.target.classList.contains('image-modal-body')) {
                // 找到对应的模态框
                const modalElement = event.target.closest('.modal');
                if (modalElement && modalElement.id.startsWith('imageModalLarge')) {
                    const modal = bootstrap.Modal.getInstance(modalElement);
                    if (modal) {
                        modal.hide();
                    }
                }
            }
        });
        
        // 防止点击图片时关闭模态框
        document.querySelectorAll('.image-modal-img').forEach(img => {
            img.addEventListener('click', function(event) {
                event.stopPropagation();
            });
        });
        
        // 监听模态框关闭事件，确保清理遮罩层
        document.querySelectorAll('[id^="imageModalLarge"]').forEach(modalElement => {
            modalElement.addEventListener('hidden.bs.modal', function() {
                // 移除可能残留的遮罩层
                const backdrops = document.querySelectorAll('.modal-backdrop');
                backdrops.forEach(backdrop => backdrop.remove());
                document.body.classList.remove('modal-open');
                document.body.style.overflow = '';
                document.body.style.paddingRight = '';
            });
        });
    </script>
</body>
</html>






