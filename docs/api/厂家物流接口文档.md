# èŒå® ç»˜ç³»ç»Ÿ - å‚å®¶ç‰©æµä¿¡æ¯å›ä¼ æ¥å£æ–‡æ¡£

## ğŸ“‹ æ¥å£æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†èŒå® ç»˜ç³»ç»Ÿä¸ºå‚å®¶æä¾›çš„ç‰©æµä¿¡æ¯å›ä¼ æ¥å£ï¼Œç”¨äºå‚å®¶åœ¨å®Œæˆè®¢å•åˆ¶ä½œåå›ä¼ ç‰©æµå•å·ç­‰ä¿¡æ¯ã€‚

## ğŸ”— æ¥å£ä¿¡æ¯

- **æ¥å£åœ°å€**: `http://photogooo/api/logistics/callback`
- **è¯·æ±‚æ–¹æ³•**: `POST`
- **å†…å®¹ç±»å‹**: `application/json`
- **å­—ç¬¦ç¼–ç **: `UTF-8`

## ğŸ“ è¯·æ±‚å‚æ•°

### å¿…è¦å‚æ•°

| å‚æ•°å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| order_number | string | è®¢å•å· | "PET20250917175858D53F" |
| tracking_number | string | ç‰©æµå•å· | "SF1234567890" |
| logistics_company | string | ç‰©æµå…¬å¸åç§° | "é¡ºä¸°é€Ÿè¿" |

### å¯é€‰å‚æ•°

| å‚æ•°å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| estimated_delivery | string | é¢„è®¡é€è¾¾æ—¶é—´ | "2025-09-20" |
| status | string | ç‰©æµçŠ¶æ€ | "å·²å‘è´§" |
| remark | string | å¤‡æ³¨ä¿¡æ¯ | "å‚å®¶å†²å°æµ‹è¯•è®¢å•" |

## ğŸ“¤ è¯·æ±‚ç¤ºä¾‹

### cURL ç¤ºä¾‹

```bash
curl -X POST http://photogooo/api/logistics/callback \
  -H "Content-Type: application/json" \
  -d '{
    "order_number": "PET20250917175858D53F",
    "tracking_number": "SF1234567890",
    "logistics_company": "é¡ºä¸°é€Ÿè¿",
    "estimated_delivery": "2025-09-20",
    "status": "å·²å‘è´§",
    "remark": "å‚å®¶å†²å°æµ‹è¯•è®¢å•"
  }'
```

### JavaScript ç¤ºä¾‹

```javascript
const response = await fetch('http://photogooo/api/logistics/callback', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    order_number: 'PET20250917175858D53F',
    tracking_number: 'SF1234567890',
    logistics_company: 'é¡ºä¸°é€Ÿè¿',
    estimated_delivery: '2025-09-20',
    status: 'å·²å‘è´§',
    remark: 'å‚å®¶å†²å°æµ‹è¯•è®¢å•'
  })
});

const result = await response.json();
console.log(result);
```

### Python ç¤ºä¾‹

```python
import requests
import json

url = 'http://photogooo/api/logistics/callback'
data = {
    'order_number': 'PET20250917175858D53F',
    'tracking_number': 'SF1234567890',
    'logistics_company': 'é¡ºä¸°é€Ÿè¿',
    'estimated_delivery': '2025-09-20',
    'status': 'å·²å‘è´§',
    'remark': 'å‚å®¶å†²å°æµ‹è¯•è®¢å•'
}

response = requests.post(url, json=data)
result = response.json()
print(result)
```

## ğŸ“¥ å“åº”æ ¼å¼

### æˆåŠŸå“åº”

**HTTPçŠ¶æ€ç **: `200 OK`

```json
{
  "success": true,
  "message": "ç‰©æµä¿¡æ¯æ›´æ–°æˆåŠŸ",
  "data": {
    "order_number": "PET20250917175858D53F",
    "status": "shipped",
    "tracking_number": "SF1234567890",
    "logistics_company": "é¡ºä¸°é€Ÿè¿",
    "commission": 5.0
  }
}
```

### é”™è¯¯å“åº”

**HTTPçŠ¶æ€ç **: `400 Bad Request` æˆ– `404 Not Found` æˆ– `500 Internal Server Error`

```json
{
  "success": false,
  "message": "é”™è¯¯æè¿°ä¿¡æ¯"
}
```

## ğŸš¨ é”™è¯¯ç è¯´æ˜

| HTTPçŠ¶æ€ç  | é”™è¯¯åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------------|----------|----------|
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯æˆ–ç¼ºå¤±å¿…è¦å‚æ•° | æ£€æŸ¥è¯·æ±‚å‚æ•°æ˜¯å¦å®Œæ•´ |
| 404 | è®¢å•å·ä¸å­˜åœ¨ | ç¡®è®¤è®¢å•å·æ˜¯å¦æ­£ç¡® |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | è”ç³»æŠ€æœ¯æ”¯æŒ |

## ğŸ§ª æ¥å£æµ‹è¯•

### æµ‹è¯•æ¥å£

- **æµ‹è¯•åœ°å€**: `http://photogooo/api/logistics/test`
- **è¯·æ±‚æ–¹æ³•**: `GET`
- **åŠŸèƒ½**: è¿”å›æ¥å£åŸºæœ¬ä¿¡æ¯å’Œå‚æ•°è¯´æ˜

### æµ‹è¯•ç¤ºä¾‹

```bash
curl http://photogooo/api/logistics/test
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "message": "ç‰©æµæ¥å£æ­£å¸¸",
  "endpoint": "/api/logistics/callback",
  "method": "POST",
  "required_params": ["order_number", "tracking_number", "logistics_company"],
  "optional_params": ["estimated_delivery", "status", "remark"]
}
```

## ğŸ“‹ ä¸šåŠ¡æµç¨‹

1. **æ¥æ”¶è®¢å•**: å‚å®¶ä»èŒå® ç»˜ç³»ç»Ÿæ¥æ”¶è®¢å•ä¿¡æ¯
2. **åˆ¶ä½œäº§å“**: å‚å®¶æ ¹æ®è®¢å•è¦æ±‚åˆ¶ä½œäº§å“
3. **å‘è´§**: å‚å®¶å‘è´§å¹¶è·å–ç‰©æµå•å·
4. **å›ä¼ ä¿¡æ¯**: å‚å®¶è°ƒç”¨æœ¬æ¥å£å›ä¼ ç‰©æµä¿¡æ¯
5. **ç³»ç»Ÿæ›´æ–°**: ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°è®¢å•çŠ¶æ€ä¸º"å·²å‘è´§"å¹¶è®¡ç®—ä½£é‡‘

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è®¢å•å·å¿…é¡»å‡†ç¡®**: è¯·ç¡®ä¿è®¢å•å·ä¸ç³»ç»Ÿæ¥æ”¶åˆ°çš„å®Œå…¨ä¸€è‡´
2. **ç‰©æµå•å·æ ¼å¼**: ç‰©æµå•å·å»ºè®®ä½¿ç”¨æ ‡å‡†æ ¼å¼ï¼Œé¿å…ç‰¹æ®Šå­—ç¬¦
3. **ç½‘ç»œè¶…æ—¶**: å»ºè®®è®¾ç½®10ç§’è¶…æ—¶æ—¶é—´
4. **é‡è¯•æœºåˆ¶**: å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œå»ºè®®å®ç°é‡è¯•æœºåˆ¶
5. **æ—¥å¿—è®°å½•**: å»ºè®®è®°å½•è¯·æ±‚å’Œå“åº”æ—¥å¿—ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒï¼š

- **ç³»ç»Ÿåœ°å€**: http://photogooo
- **æµ‹è¯•æ¥å£**: http://photogooo/api/logistics/test
- **é—®é¢˜åé¦ˆ**: è¯·æä¾›è®¢å•å·ã€é”™è¯¯ä¿¡æ¯ã€è¯·æ±‚å‚æ•°ç­‰è¯¦ç»†ä¿¡æ¯

## ğŸ“„ æ›´æ–°æ—¥å¿—

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|----------|
| 1.0.0 | 2025-09-17 | åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬çš„ç‰©æµä¿¡æ¯å›ä¼ åŠŸèƒ½ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025-09-17  
**ç»´æŠ¤å›¢é˜Ÿ**: èŒå® ç»˜æŠ€æœ¯å›¢é˜Ÿ
