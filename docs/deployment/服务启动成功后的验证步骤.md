# æœåŠ¡å¯åŠ¨æˆåŠŸåçš„éªŒè¯æ­¥éª¤

## âœ… æœåŠ¡å·²æˆåŠŸå¯åŠ¨

ä» `systemctl status aistudio` çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼š
- âœ… æœåŠ¡çŠ¶æ€ï¼š`active (running)`
- âœ… è¿›ç¨‹IDï¼š`7906`
- âœ… æœåŠ¡å·²å¯ç”¨ï¼š`enabled`

---

## éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸å·¥ä½œ

åœ¨æœåŠ¡å™¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

### 1. æ£€æŸ¥ç«¯å£ç›‘å¬

```bash
netstat -tlnp | grep 8000
```

**é¢„æœŸè¾“å‡º**ï¼šåº”è¯¥çœ‹åˆ° `8000` ç«¯å£æ­£åœ¨ç›‘å¬

### 2. æ£€æŸ¥ Gunicorn è¿›ç¨‹

```bash
ps aux | grep gunicorn | grep -v grep
```

**é¢„æœŸè¾“å‡º**ï¼šåº”è¯¥çœ‹åˆ° Gunicorn worker è¿›ç¨‹

### 3. æµ‹è¯•æœ¬åœ°è®¿é—®

```bash
curl http://localhost:8000/admin/
```

**é¢„æœŸè¾“å‡º**ï¼šåº”è¯¥è¿”å› HTML å†…å®¹ï¼ˆç™»å½•é¡µé¢ï¼‰

### 4. æµ‹è¯•é€šè¿‡ Nginx è®¿é—®

```bash
curl http://121.43.143.59/admin/
```

**é¢„æœŸè¾“å‡º**ï¼šåº”è¯¥è¿”å› HTML å†…å®¹

---

## å®Œæ•´éªŒè¯å‘½ä»¤ï¼ˆä¸€é”®æ‰§è¡Œï¼‰

```bash
echo "=== 1. ç«¯å£ç›‘å¬æ£€æŸ¥ ==="
netstat -tlnp | grep 8000 || echo "âš ï¸ 8000ç«¯å£æœªç›‘å¬"

echo ""
echo "=== 2. Gunicornè¿›ç¨‹æ£€æŸ¥ ==="
ps aux | grep gunicorn | grep -v grep || echo "âš ï¸ Gunicornè¿›ç¨‹æœªè¿è¡Œ"

echo ""
echo "=== 3. æœ¬åœ°è®¿é—®æµ‹è¯• ==="
curl -s -o /dev/null -w "HTTPçŠ¶æ€ç : %{http_code}\n" http://localhost:8000/admin/

echo ""
echo "=== 4. Nginxè®¿é—®æµ‹è¯• ==="
curl -s -o /dev/null -w "HTTPçŠ¶æ€ç : %{http_code}\n" http://121.43.143.59/admin/

echo ""
echo "=== 5. æœåŠ¡çŠ¶æ€ ==="
systemctl status aistudio --no-pager -l | head -15
```

---

## æµè§ˆå™¨è®¿é—®æµ‹è¯•

1. **æ‰“å¼€æµè§ˆå™¨**
2. **è®¿é—®**ï¼š`http://121.43.143.59/admin/`
3. **ç™»å½•**ï¼š
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`admin123`

---

## å¦‚æœè®¿é—®æ­£å¸¸

æ­å–œï¼éƒ¨ç½²æˆåŠŸï¼æ¥ä¸‹æ¥å¯ä»¥ï¼š

### 1. è®¾ç½®å¼€æœºè‡ªå¯ï¼ˆå¦‚æœè¿˜æ²¡è®¾ç½®ï¼‰

```bash
systemctl enable aistudio
```

### 2. æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼ˆå¦‚æœéœ€è¦ç›‘æ§ï¼‰

```bash
journalctl -u aistudio -f
```

### 3. æŸ¥çœ‹åº”ç”¨æ—¥å¿—

```bash
# Gunicorn è®¿é—®æ—¥å¿—
tail -f /root/project_code/logs/access.log

# Gunicorn é”™è¯¯æ—¥å¿—
tail -f /root/project_code/logs/error.log
```

---

## å¦‚æœè®¿é—®å¤±è´¥

### é—®é¢˜1ï¼šç«¯å£æœªç›‘å¬

```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
journalctl -u aistudio -n 50 --no-pager

# æ‰‹åŠ¨æµ‹è¯•å¯åŠ¨
cd /root/project_code
source venv/bin/activate
python start_production.py
```

### é—®é¢˜2ï¼šNginx é…ç½®é—®é¢˜

```bash
# æ£€æŸ¥ Nginx çŠ¶æ€
systemctl status nginx

# æ£€æŸ¥ Nginx é…ç½®
nginx -t

# æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log
```

### é—®é¢˜3ï¼šé˜²ç«å¢™é—®é¢˜

```bash
# æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€
ufw status

# å¦‚æœé˜²ç«å¢™å¼€å¯ï¼Œç¡®ä¿å…è®¸80å’Œ443ç«¯å£
ufw allow 80/tcp
ufw allow 443/tcp
```

---

## æœåŠ¡ç®¡ç†å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
systemctl start aistudio

# åœæ­¢æœåŠ¡
systemctl stop aistudio

# é‡å¯æœåŠ¡
systemctl restart aistudio

# æŸ¥çœ‹çŠ¶æ€
systemctl status aistudio

# æŸ¥çœ‹æ—¥å¿—
journalctl -u aistudio -f
journalctl -u aistudio -n 50  # æœ€è¿‘50è¡Œ
```

---

## ä¸‹ä¸€æ­¥æ“ä½œ

1. âœ… **éªŒè¯æœåŠ¡**ï¼šæ‰§è¡Œä¸Šé¢çš„éªŒè¯å‘½ä»¤
2. âœ… **æµè§ˆå™¨è®¿é—®**ï¼šæµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®ç®¡ç†åå°
3. âœ… **ä¸Šä¼ æ•°æ®åº“**ï¼šå¦‚æœè¿˜æ²¡ä¸Šä¼ ï¼Œéœ€è¦ä¸Šä¼ æ•°æ®åº“æ–‡ä»¶
4. âœ… **ä¸Šä¼ å›¾ç‰‡**ï¼šå¦‚æœè¿˜æ²¡ä¸Šä¼ ï¼Œéœ€è¦ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶

---

## æ€»ç»“

ğŸ‰ **æœåŠ¡å·²æˆåŠŸå¯åŠ¨ï¼**

- âœ… Systemd æœåŠ¡é…ç½®æ­£ç¡®
- âœ… æœåŠ¡æ­£åœ¨è¿è¡Œ
- âœ… è¿›ç¨‹å·²å¯åŠ¨

ç°åœ¨åªéœ€è¦éªŒè¯æ˜¯å¦èƒ½æ­£å¸¸è®¿é—®å³å¯ã€‚
