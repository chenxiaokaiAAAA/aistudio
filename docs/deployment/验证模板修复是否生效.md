# éªŒè¯æ¨¡æ¿ä¿®å¤æ˜¯å¦ç”Ÿæ•ˆ

## ğŸ” æ£€æŸ¥æ­¥éª¤

### æ­¥éª¤1ï¼šæ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
systemctl status aistudio --no-pager -l | head -20

# æ£€æŸ¥æœåŠ¡æ˜¯å¦çœŸçš„é‡å¯äº†ï¼ˆæŸ¥çœ‹å¯åŠ¨æ—¶é—´ï¼‰
systemctl show aistudio -p ActiveEnterTimestamp
```

### æ­¥éª¤2ï¼šæ£€æŸ¥æ¨¡æ¿æ–‡ä»¶æ˜¯å¦æ›´æ–°

```bash
# æ£€æŸ¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´
ls -la /root/project_code/templates/admin/styles.html

# æ£€æŸ¥ä¿®å¤çš„ä»£ç æ˜¯å¦å­˜åœ¨
grep -A 5 "const coverImagePreview = document.getElementById" /root/project_code/templates/admin/styles.html
```

### æ­¥éª¤3ï¼šæ£€æŸ¥åº”ç”¨æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯æ—¥å¿—
tail -30 /root/project_code/logs/error.log

# æˆ–æŸ¥çœ‹ systemd æ—¥å¿—
journalctl -u aistudio -n 30 --no-pager
```

### æ­¥éª¤4ï¼šå¼ºåˆ¶é‡å¯æœåŠ¡

```bash
# åœæ­¢æœåŠ¡
systemctl stop aistudio

# ç­‰å¾…2ç§’
sleep 2

# å¯åŠ¨æœåŠ¡
systemctl start aistudio

# æ£€æŸ¥çŠ¶æ€
systemctl status aistudio --no-pager -l | head -15
```

---

## ğŸ”§ å¦‚æœè¿˜æ˜¯æ²¡æœ‰ååº”

### æ–¹æ¡ˆ1ï¼šæ£€æŸ¥ Gunicorn æ˜¯å¦é‡æ–°åŠ è½½äº†æ¨¡æ¿

Gunicorn é»˜è®¤ä¼šç¼“å­˜æ¨¡æ¿ï¼Œå¯èƒ½éœ€è¦å®Œå…¨é‡å¯ï¼š

```bash
# å®Œå…¨é‡å¯ï¼ˆåœæ­¢æ‰€æœ‰ workerï¼‰
systemctl stop aistudio
sleep 3
systemctl start aistudio

# æˆ–è€…ä½¿ç”¨ kill å¼ºåˆ¶é‡å¯
pkill -f gunicorn
sleep 2
systemctl start aistudio
```

### æ–¹æ¡ˆ2ï¼šæ£€æŸ¥æ¨¡æ¿æ–‡ä»¶è·¯å¾„

```bash
# ç¡®è®¤æ–‡ä»¶åœ¨æ­£ç¡®çš„ä½ç½®
ls -la /root/project_code/templates/admin/styles.html

# æ£€æŸ¥ Flask åº”ç”¨é…ç½®çš„æ¨¡æ¿è·¯å¾„
cd /root/project_code
source venv/bin/activate
python3 << 'PYEOF'
from test_server import app
print("æ¨¡æ¿è·¯å¾„:", app.template_folder)
print("æ ¹è·¯å¾„:", app.root_path)
PYEOF
```

### æ–¹æ¡ˆ3ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜

åœ¨æµè§ˆå™¨ä¸­ï¼š
1. æŒ‰ `Ctrl + Shift + Delete` æ¸…é™¤ç¼“å­˜
2. æˆ–æŒ‰ `F12` â†’ Application â†’ Clear storage â†’ Clear site data
3. ç¡¬åˆ·æ–°ï¼š`Ctrl + F5`

### æ–¹æ¡ˆ4ï¼šæ£€æŸ¥æ–‡ä»¶å†…å®¹

```bash
# æ£€æŸ¥ä¿®å¤çš„ä»£ç æ˜¯å¦çœŸçš„å­˜åœ¨
grep -n "if (coverImagePreview)" /root/project_code/templates/admin/styles.html

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
# 2720:            if (coverImagePreview) {
```

---

## ğŸ¯ å®Œæ•´éªŒè¯è„šæœ¬

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼š

```bash
#!/bin/bash
echo "=== éªŒè¯æ¨¡æ¿ä¿®å¤ ==="
echo ""

echo "1. æ£€æŸ¥æœåŠ¡çŠ¶æ€:"
systemctl status aistudio --no-pager -l | head -5
echo ""

echo "2. æ£€æŸ¥æ–‡ä»¶ä¿®æ”¹æ—¶é—´:"
ls -la /root/project_code/templates/admin/styles.html
echo ""

echo "3. æ£€æŸ¥ä¿®å¤ä»£ç æ˜¯å¦å­˜åœ¨:"
if grep -q "if (coverImagePreview)" /root/project_code/templates/admin/styles.html; then
    echo "âœ… ä¿®å¤ä»£ç å­˜åœ¨"
    grep -n "if (coverImagePreview)" /root/project_code/templates/admin/styles.html | head -3
else
    echo "âŒ ä¿®å¤ä»£ç ä¸å­˜åœ¨ï¼Œæ–‡ä»¶å¯èƒ½æ²¡æœ‰æ›´æ–°"
fi
echo ""

echo "4. æ£€æŸ¥æœ€è¿‘çš„é”™è¯¯:"
tail -10 /root/project_code/logs/error.log | grep -i "error\|exception" || echo "æ— é”™è¯¯"
echo ""

echo "5. å¼ºåˆ¶é‡å¯æœåŠ¡:"
systemctl stop aistudio
sleep 2
systemctl start aistudio
sleep 2
systemctl status aistudio --no-pager -l | head -5
```

---

## âš ï¸ å¦‚æœä¿®å¤ä»£ç ä¸å­˜åœ¨

è¯´æ˜æ–‡ä»¶æ²¡æœ‰æ­£ç¡®æ›´æ–°ï¼Œéœ€è¦é‡æ–°ä¸Šä¼ æˆ–ä¿®æ”¹ï¼š

```bash
# æ£€æŸ¥æ–‡ä»¶å†…å®¹
head -20 /root/project_code/templates/admin/styles.html

# å¦‚æœæ–‡ä»¶ä¸å¯¹ï¼Œéœ€è¦é‡æ–°ä¸Šä¼ 
# æˆ–ä½¿ç”¨ sed ç›´æ¥ä¿®æ”¹
```
