# 服务器无响应处理

## 🔍 可能的原因

1. **连接断开**：SSH 连接超时
2. **服务器卡住**：某个命令执行时间过长
3. **服务问题**：服务占用资源过高

---

## 🔧 立即处理

### 步骤1：重新连接服务器

如果连接断开，重新连接：
- 使用 SSH 客户端重新连接
- 或使用阿里云控制台的 Web 终端

### 步骤2：检查服务器状态

重新连接后，检查：

```bash
# 检查系统负载
uptime

# 检查内存使用
free -h

# 检查服务状态
systemctl status aistudio --no-pager -l | head -20

# 检查进程
ps aux | grep -E "python|gunicorn" | grep -v grep
```

### 步骤3：如果服务卡住，重启服务

```bash
# 强制停止服务
systemctl stop aistudio

# 等待几秒
sleep 3

# 检查进程是否还在运行
ps aux | grep start_production | grep -v grep

# 如果还在运行，强制杀死
pkill -f start_production.py
pkill -f gunicorn

# 重启服务
systemctl start aistudio
systemctl status aistudio
```

---

## 📋 快速恢复脚本

```bash
#!/bin/bash
echo "=========================================="
echo "恢复服务器连接和服务"
echo "=========================================="
echo ""

# 1. 检查系统状态
echo "[1/4] 检查系统状态..."
uptime
free -h | head -2

echo ""
# 2. 检查服务状态
echo "[2/4] 检查服务状态..."
systemctl status aistudio --no-pager -l | head -15

echo ""
# 3. 检查进程
echo "[3/4] 检查进程..."
ps aux | grep -E "python|gunicorn" | grep -v grep | head -5

echo ""
# 4. 重启服务（如果需要）
echo "[4/4] 重启服务..."
systemctl restart aistudio
sleep 3
systemctl status aistudio --no-pager -l | head -15
```

---

## 🚨 如果完全无法连接

如果完全无法连接到服务器：

1. **使用阿里云控制台**：
   - 登录阿里云控制台
   - 找到 ECS 实例
   - 使用"远程连接"功能

2. **检查服务器状态**：
   - 在阿里云控制台查看实例状态
   - 检查 CPU 和内存使用率
   - 如果资源耗尽，可能需要重启实例

---

## 🎯 建议操作

1. **重新连接服务器**（如果断开）
2. **执行快速恢复脚本**（检查状态并重启服务）
3. **如果仍然无响应**，使用阿里云控制台检查服务器状态

---

## 📝 重新连接后

重新连接后，先执行：

```bash
# 检查服务状态
systemctl status aistudio

# 检查端口
netstat -tlnp | grep 8000

# 测试访问
curl http://localhost:8000/login
```

告诉我结果，我会继续协助。
