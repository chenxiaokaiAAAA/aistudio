# 切换到生产环境说明

## 当前状态
所有地址已配置为本地开发环境：`http://192.168.2.54:8000`

## 上线前需要切换的文件

### 1. 后端配置（AI-studio/server_config.py）
```python
# 将 ENV 改为 'production'
ENV = 'production'
```

### 2. 前端配置（AI-小程序/config.js）
```javascript
// 将 ENV 改为 'production'
const ENV = 'production';
```

### 3. 冲印系统配置（AI-studio/printer_config.py）
```python
'file_access_base_url': 'https://photogooo',  # 改为生产环境地址
```

## 快速切换方法

### 方法1：使用批处理脚本（推荐）

**后端：**
```bash
cd AI-studio
# 手动修改 server_config.py 中的 ENV = 'production'
```

**前端：**
```bash
cd AI-小程序
switch_to_production.bat
```

### 方法2：手动修改

1. **后端配置** - `AI-studio/server_config.py`
   - 修改：`ENV = 'production'`

2. **前端配置** - `AI-小程序/config.js`
   - 修改：`const ENV = 'production';`

3. **冲印配置** - `AI-studio/printer_config.py`
   - 修改：`'file_access_base_url': 'https://photogooo'`

## 注意事项

1. **微信支付回调地址**：确保在微信商户平台配置了正确的回调地址
2. **小程序域名配置**：在小程序后台配置合法域名
3. **SSL证书**：确保生产环境有有效的SSL证书
4. **测试**：切换后务必进行全面测试

## 验证清单

- [ ] 后端 server_config.py ENV 设置为 'production'
- [ ] 前端 config.js ENV 设置为 'production'
- [ ] 冲印系统 file_access_base_url 设置为 'https://photogooo'
- [ ] 所有API请求正常
- [ ] 图片加载正常
- [ ] 支付功能正常
- [ ] 订单流程正常
