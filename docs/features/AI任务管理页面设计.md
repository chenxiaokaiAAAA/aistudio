# AIä»»åŠ¡ç®¡ç†é¡µé¢è®¾è®¡

## ğŸ“‹ æ¦‚è¿°

AIä»»åŠ¡ç®¡ç†é¡µé¢æ˜¯ç®¡ç†åå°çš„ç‹¬ç«‹é¡µé¢ï¼Œç”¨äºç®¡ç†æ‰€æœ‰AIå·¥ä½œæµä»»åŠ¡ã€‚ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€ã€ä¸Šä¼ åŸå›¾ã€é‡æ–°å¤„ç†ä»»åŠ¡ã€æŸ¥çœ‹å¤„ç†æ—¥å¿—ç­‰ã€‚

---

## ğŸ¯ é¡µé¢åŠŸèƒ½

### 1. æ ¸å¿ƒåŠŸèƒ½

- **ä»»åŠ¡åˆ—è¡¨å±•ç¤º**ï¼šæ˜¾ç¤ºæ‰€æœ‰AIä»»åŠ¡çš„å…³é”®ä¿¡æ¯
- **ç­›é€‰å’Œæœç´¢**ï¼šæŒ‰è®¢å•å·ã€çŠ¶æ€ã€æ—¶é—´ç­‰ç­›é€‰
- **æ‰‹åŠ¨ä¸Šä¼ åŸå›¾**ï¼šå¦‚æœè®¢å•æ²¡æœ‰å›¾ç‰‡ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸Šä¼ 
- **é‡æ–°å¤„ç†**ï¼šå¤±è´¥çš„ä»»åŠ¡å¯ä»¥é‡æ–°å¤„ç†
- **æŸ¥çœ‹è¯¦æƒ…**ï¼šæŸ¥çœ‹å¤„ç†æ—¥å¿—ã€é”™è¯¯ä¿¡æ¯ã€é¢„è®¡å®Œæˆæ—¶é—´ç­‰

### 2. é¡µé¢åœ°å€

- ä¸»é¡µé¢ï¼š`/admin/ai/tasks`
- ä»»åŠ¡è¯¦æƒ…ï¼š`/admin/ai/tasks/<task_id>`

---

## ğŸ“Š é¡µé¢å¸ƒå±€

### ä¸»é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIä»»åŠ¡ç®¡ç†                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ç­›é€‰æ¡ä»¶] [æœç´¢æ¡†] [åˆ·æ–°]                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¢å•å·    â”‚ è¾“å…¥å›¾ç‰‡ â”‚ è¾“å‡ºå›¾ç‰‡ â”‚ çŠ¶æ€ â”‚ é¢„è®¡å®Œæˆæ—¶é—´ â”‚ æ“ä½œ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ORD001    â”‚ [é¢„è§ˆ]   â”‚ [é¢„è§ˆ]   â”‚ å¤„ç†ä¸­â”‚ 10:30      â”‚ [è¯¦æƒ…]â”‚
â”‚  ORD002    â”‚ [é¢„è§ˆ]   â”‚ -        â”‚ å¤±è´¥ â”‚ -          â”‚ [é‡è¯•]â”‚
â”‚  ORD003    â”‚ -        â”‚ -        â”‚ å¾…å¤„ç†â”‚ -          â”‚ [ä¸Šä¼ ]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ æ•°æ®å­—æ®µè¯´æ˜

### ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤ºå­—æ®µ

| å­—æ®µ | è¯´æ˜ | æ˜¾ç¤ºæ–¹å¼ |
|------|------|----------|
| è®¢å•å· | å…³è”çš„è®¢å•å· | æ–‡æœ¬ï¼Œå¯ç‚¹å‡»è·³è½¬åˆ°è®¢å•è¯¦æƒ… |
| è¾“å…¥å›¾ç‰‡ | åŸå›¾æˆ–ç¾é¢œåçš„å›¾ç‰‡ | ç¼©ç•¥å›¾é¢„è§ˆï¼Œç‚¹å‡»æŸ¥çœ‹å¤§å›¾ |
| è¾“å‡ºå›¾ç‰‡ | AIå¤„ç†åçš„æ•ˆæœå›¾ | ç¼©ç•¥å›¾é¢„è§ˆï¼Œç‚¹å‡»æŸ¥çœ‹å¤§å›¾ï¼ˆå¦‚æœå·²å®Œæˆï¼‰ |
| çŠ¶æ€ | ä»»åŠ¡çŠ¶æ€ | å¸¦é¢œè‰²çš„æ ‡ç­¾ |
| é¢„è®¡å®Œæˆæ—¶é—´ | é¢„è®¡å®Œæˆæ—¶é—´ | æ—¶é—´æˆ³ï¼Œå¦‚æœå·²è¿‡æœŸæ˜¾ç¤ºçº¢è‰² |
| é”™è¯¯ä¿¡æ¯ | å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯ | ç®€çŸ­é”™è¯¯ä¿¡æ¯ï¼Œè¯¦æƒ…åœ¨è¯¦æƒ…é¡µ |
| æ“ä½œ | æ“ä½œæŒ‰é’® | è¯¦æƒ…/é‡è¯•/ä¸Šä¼ /å–æ¶ˆ |

### ä»»åŠ¡çŠ¶æ€

- **å¾…å¤„ç†** (pending) - ç°è‰²
- **å¤„ç†ä¸­** (processing) - è“è‰²
- **å·²å®Œæˆ** (completed) - ç»¿è‰²
- **å¤±è´¥** (failed) - çº¢è‰²
- **å·²å–æ¶ˆ** (cancelled) - ç°è‰²

---

## ğŸ” ç­›é€‰å’Œæœç´¢

### ç­›é€‰æ¡ä»¶

1. **çŠ¶æ€ç­›é€‰**ï¼š
   - å…¨éƒ¨
   - å¾…å¤„ç†
   - å¤„ç†ä¸­
   - å·²å®Œæˆ
   - å¤±è´¥
   - å·²å–æ¶ˆ

2. **æ—¶é—´ç­›é€‰**ï¼š
   - ä»Šå¤©
   - æœ€è¿‘7å¤©
   - æœ€è¿‘30å¤©
   - è‡ªå®šä¹‰æ—¶é—´èŒƒå›´

3. **å›¾ç‰‡æ¥æºç­›é€‰**ï¼š
   - å…¨éƒ¨
   - åŸå›¾
   - ç¾é¢œåçš„å›¾

### æœç´¢åŠŸèƒ½

- æ”¯æŒæŒ‰è®¢å•å·æœç´¢
- æ”¯æŒæ¨¡ç³Šæœç´¢

---

## ğŸ–¼ï¸ å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½

### æ‰‹åŠ¨ä¸Šä¼ åŸå›¾

**è§¦å‘æ¡ä»¶**ï¼š
- ä»»åŠ¡çŠ¶æ€ä¸º"å¾…å¤„ç†"æˆ–"å¤±è´¥"
- è®¢å•æ²¡æœ‰å¯ç”¨çš„è¾“å…¥å›¾ç‰‡

**æ“ä½œæµç¨‹**ï¼š
1. ç‚¹å‡»"ä¸Šä¼ åŸå›¾"æŒ‰é’®
2. å¼¹å‡ºä¸Šä¼ å¯¹è¯æ¡†
3. é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒjpgã€pngç­‰æ ¼å¼ï¼‰
4. ä¸Šä¼ æˆåŠŸåï¼Œè‡ªåŠ¨æ›´æ–°ä»»åŠ¡çš„ `input_image_path`
5. å¦‚æœä»»åŠ¡çŠ¶æ€ä¸º"å¾…å¤„ç†"ï¼Œå¯ä»¥è‡ªåŠ¨è§¦å‘å¤„ç†

**ä¸Šä¼ é™åˆ¶**ï¼š
- æ–‡ä»¶å¤§å°ï¼šæœ€å¤§10MB
- æ–‡ä»¶æ ¼å¼ï¼šjpgã€pngã€webp
- å›¾ç‰‡å°ºå¯¸ï¼šå»ºè®®1920x1920ä»¥å†…

---

## ğŸ”„ é‡æ–°å¤„ç†åŠŸèƒ½

### é‡æ–°å¤„ç†æŒ‰é’®

**æ˜¾ç¤ºæ¡ä»¶**ï¼š
- ä»»åŠ¡çŠ¶æ€ä¸º"å¤±è´¥"
- ä»»åŠ¡çŠ¶æ€ä¸º"å·²å®Œæˆ"ï¼ˆå…è®¸é‡æ–°å¤„ç†ï¼‰

**æ“ä½œæµç¨‹**ï¼š
1. ç‚¹å‡»"é‡æ–°å¤„ç†"æŒ‰é’®
2. ç¡®è®¤å¯¹è¯æ¡†ï¼š"ç¡®å®šè¦é‡æ–°å¤„ç†æ­¤ä»»åŠ¡å—ï¼Ÿ"
3. ç¡®è®¤åï¼Œè°ƒç”¨ `retry_ai_task()` å‡½æ•°
4. ä»»åŠ¡çŠ¶æ€æ›´æ–°ä¸º"å¾…å¤„ç†"
5. è‡ªåŠ¨è§¦å‘å·¥ä½œæµå¤„ç†

**é‡æ–°å¤„ç†é€»è¾‘**ï¼š
- ä½¿ç”¨åŸæœ‰çš„å·¥ä½œæµé…ç½®
- ä½¿ç”¨å½“å‰çš„è¾“å…¥å›¾ç‰‡ï¼ˆå¦‚æœå·²æ›´æ–°ï¼‰
- é‡è¯•æ¬¡æ•° +1
- ä¿ç•™åŸæœ‰çš„é”™è¯¯æ—¥å¿—ï¼ˆè¿½åŠ åˆ°å¤„ç†æ—¥å¿—ä¸­ï¼‰

---

## ğŸ“„ ä»»åŠ¡è¯¦æƒ…é¡µé¢

### è¯¦æƒ…é¡µæ˜¾ç¤ºå†…å®¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIä»»åŠ¡è¯¦æƒ… - ä»»åŠ¡ID: #123                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºæœ¬ä¿¡æ¯                                                â”‚
â”‚  - è®¢å•å·: ORD001                                        â”‚
â”‚  - çŠ¶æ€: å¤„ç†ä¸­                                          â”‚
â”‚  - åˆ›å»ºæ—¶é—´: 2026-01-14 10:00:00                         â”‚
â”‚  - å¼€å§‹æ—¶é—´: 2026-01-14 10:01:00                         â”‚
â”‚  - é¢„è®¡å®Œæˆæ—¶é—´: 2026-01-14 10:30:00                     â”‚
â”‚  - å®Œæˆæ—¶é—´: -                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·¥ä½œæµé…ç½®                                              â”‚
â”‚  - å·¥ä½œæµåç§°: anthropomorphic_workflow                  â”‚
â”‚  - å·¥ä½œæµæ–‡ä»¶: anthropomorphic_workflow.json             â”‚
â”‚  - é£æ ¼åˆ†ç±»: æ‹Ÿäººé£æ ¼                                     â”‚
â”‚  - é£æ ¼å›¾ç‰‡: å¨å»‰å›½ç‹                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¾“å…¥å›¾ç‰‡                                                â”‚
â”‚  [åŸå›¾é¢„è§ˆ] ç±»å‹: ç¾é¢œåçš„å›¾                              â”‚
â”‚  è·¯å¾„: /uploads/retouched_xxx.jpg                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¾“å‡ºå›¾ç‰‡                                                â”‚
â”‚  [æ•ˆæœå›¾é¢„è§ˆ] (å¦‚æœå·²å®Œæˆ)                               â”‚
â”‚  è·¯å¾„: /uploads/ai_result_xxx.jpg                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ComfyUIä¿¡æ¯                                             â”‚
â”‚  - Prompt ID: abc123                                     â”‚
â”‚  - èŠ‚ç‚¹ID: 136                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¤„ç†æ—¥å¿—                                                â”‚
â”‚  [æ—¶é—´] [çŠ¶æ€] [ä¿¡æ¯]                                     â”‚
â”‚  10:00:00 åˆ›å»ºä»»åŠ¡                                        â”‚
â”‚  10:01:00 æäº¤åˆ°ComfyUI                                  â”‚
â”‚  10:01:05 å¤„ç†ä¸­...                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰                                       â”‚
â”‚  [é”™è¯¯ä»£ç ] [é”™è¯¯ä¿¡æ¯]                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ“ä½œæŒ‰é’®                                                â”‚
â”‚  [é‡æ–°å¤„ç†] [å–æ¶ˆä»»åŠ¡] [è¿”å›åˆ—è¡¨]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Œ APIæ¥å£è®¾è®¡

### 1. è·å–ä»»åŠ¡åˆ—è¡¨

```
GET /api/admin/ai/tasks
Queryå‚æ•°:
  - page: é¡µç ï¼ˆé»˜è®¤1ï¼‰
  - per_page: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼‰
  - status: çŠ¶æ€ç­›é€‰ï¼ˆå¯é€‰ï¼‰
  - start_date: å¼€å§‹æ—¥æœŸï¼ˆå¯é€‰ï¼‰
  - end_date: ç»“æŸæ—¥æœŸï¼ˆå¯é€‰ï¼‰
  - order_number: è®¢å•å·æœç´¢ï¼ˆå¯é€‰ï¼‰
  - image_type: å›¾ç‰‡æ¥æºç­›é€‰ï¼ˆoriginal/retouchedï¼Œå¯é€‰ï¼‰

å“åº”:
{
  "status": "success",
  "data": {
    "tasks": [
      {
        "id": 1,
        "order_id": 123,
        "order_number": "ORD001",
        "input_image_path": "/uploads/xxx.jpg",
        "input_image_type": "retouched",
        "output_image_path": "/uploads/result_xxx.jpg",
        "status": "processing",
        "status_text": "å¤„ç†ä¸­",
        "created_at": "2026-01-14T10:00:00",
        "started_at": "2026-01-14T10:01:00",
        "estimated_completion_time": "2026-01-14T10:30:00",
        "completed_at": null,
        "error_message": null,
        "retry_count": 0,
        "workflow_name": "anthropomorphic_workflow",
        "style_category_name": "æ‹Ÿäººé£æ ¼",
        "style_image_name": "å¨å»‰å›½ç‹"
      }
    ],
    "total": 100,
    "page": 1,
    "per_page": 20
  }
}
```

### 2. è·å–ä»»åŠ¡è¯¦æƒ…

```
GET /api/admin/ai/tasks/<task_id>

å“åº”:
{
  "status": "success",
  "data": {
    "id": 1,
    "order_id": 123,
    "order_number": "ORD001",
    "workflow_name": "anthropomorphic_workflow",
    "workflow_file": "anthropomorphic_workflow.json",
    "style_category_id": 1,
    "style_category_name": "æ‹Ÿäººé£æ ¼",
    "style_image_id": 5,
    "style_image_name": "å¨å»‰å›½ç‹",
    "input_image_path": "/uploads/xxx.jpg",
    "input_image_type": "retouched",
    "output_image_path": "/uploads/result_xxx.jpg",
    "status": "processing",
    "comfyui_prompt_id": "abc123",
    "comfyui_node_id": "136",
    "created_at": "2026-01-14T10:00:00",
    "started_at": "2026-01-14T10:01:00",
    "estimated_completion_time": "2026-01-14T10:30:00",
    "completed_at": null,
    "error_message": null,
    "error_code": null,
    "retry_count": 0,
    "processing_log": "[{\"time\": \"10:00:00\", \"status\": \"created\", \"message\": \"ä»»åŠ¡åˆ›å»º\"}, ...]",
    "comfyui_response": "{...}",
    "notes": null
  }
}
```

### 3. ä¸Šä¼ è¾“å…¥å›¾ç‰‡

```
POST /api/admin/ai/tasks/<task_id>/upload-image
Content-Type: multipart/form-data

Formæ•°æ®:
  - file: å›¾ç‰‡æ–‡ä»¶

å“åº”:
{
  "status": "success",
  "message": "å›¾ç‰‡ä¸Šä¼ æˆåŠŸ",
  "data": {
    "input_image_path": "/uploads/new_xxx.jpg",
    "input_image_type": "original"
  }
}
```

### 4. é‡æ–°å¤„ç†ä»»åŠ¡

```
POST /api/admin/ai/tasks/<task_id>/retry

å“åº”:
{
  "status": "success",
  "message": "ä»»åŠ¡å·²é‡æ–°æäº¤å¤„ç†",
  "data": {
    "task_id": 1,
    "status": "pending",
    "retry_count": 1
  }
}
```

### 5. å–æ¶ˆä»»åŠ¡

```
POST /api/admin/ai/tasks/<task_id>/cancel

å“åº”:
{
  "status": "success",
  "message": "ä»»åŠ¡å·²å–æ¶ˆ",
  "data": {
    "task_id": 1,
    "status": "cancelled"
  }
}
```

---

## ğŸ¨ UIè®¾è®¡å»ºè®®

### 1. çŠ¶æ€æ ‡ç­¾æ ·å¼

```css
.status-pending {
  background-color: #6c757d;
  color: white;
}

.status-processing {
  background-color: #007bff;
  color: white;
}

.status-completed {
  background-color: #28a745;
  color: white;
}

.status-failed {
  background-color: #dc3545;
  color: white;
}

.status-cancelled {
  background-color: #6c757d;
  color: white;
}
```

### 2. é¢„è®¡å®Œæˆæ—¶é—´æ˜¾ç¤º

- å¦‚æœå·²è¿‡æœŸï¼šçº¢è‰²æ˜¾ç¤ºï¼Œæ˜¾ç¤º"å·²è¿‡æœŸ"
- å¦‚æœå³å°†åˆ°æœŸï¼ˆ5åˆ†é’Ÿå†…ï¼‰ï¼šæ©™è‰²æ˜¾ç¤º
- å¦‚æœæ­£å¸¸ï¼šæ­£å¸¸æ˜¾ç¤º

### 3. å›¾ç‰‡é¢„è§ˆ

- ç¼©ç•¥å›¾ï¼š100x100px
- ç‚¹å‡»ç¼©ç•¥å›¾ï¼šå¼¹å‡ºå¤§å›¾é¢„è§ˆï¼ˆæ¨¡æ€æ¡†ï¼‰
- æ”¯æŒæ”¾å¤§ã€ç¼©å°ã€ä¸‹è½½

---

## ğŸ“ å¤„ç†æ—¥å¿—æ ¼å¼

å¤„ç†æ—¥å¿—ä»¥JSONæ•°ç»„æ ¼å¼å­˜å‚¨ï¼š

```json
[
  {
    "time": "2026-01-14T10:00:00",
    "status": "created",
    "message": "ä»»åŠ¡åˆ›å»º",
    "level": "info"
  },
  {
    "time": "2026-01-14T10:01:00",
    "status": "submitted",
    "message": "å·²æäº¤åˆ°ComfyUIï¼ŒPrompt ID: abc123",
    "level": "info"
  },
  {
    "time": "2026-01-14T10:01:05",
    "status": "processing",
    "message": "ComfyUIå¤„ç†ä¸­...",
    "level": "info"
  },
  {
    "time": "2026-01-14T10:30:00",
    "status": "completed",
    "message": "å¤„ç†å®Œæˆï¼Œç»“æœå›¾ç‰‡å·²ä¿å­˜",
    "level": "success"
  }
]
```

æ—¥å¿—çº§åˆ«ï¼š
- `info`: æ™®é€šä¿¡æ¯ï¼ˆè“è‰²ï¼‰
- `success`: æˆåŠŸä¿¡æ¯ï¼ˆç»¿è‰²ï¼‰
- `warning`: è­¦å‘Šä¿¡æ¯ï¼ˆæ©™è‰²ï¼‰
- `error`: é”™è¯¯ä¿¡æ¯ï¼ˆçº¢è‰²ï¼‰

---

## ğŸ”„ å®æ—¶æ›´æ–°

### è½®è¯¢æœºåˆ¶

é¡µé¢æ¯30ç§’è‡ªåŠ¨åˆ·æ–°ä»»åŠ¡åˆ—è¡¨ï¼Œæ›´æ–°ä»»åŠ¡çŠ¶æ€ã€‚

### WebSocketæ”¯æŒï¼ˆå¯é€‰ï¼‰

å¦‚æœComfyUIæ”¯æŒWebSocketï¼Œå¯ä»¥å®ç°å®æ—¶æ¨é€ä»»åŠ¡çŠ¶æ€æ›´æ–°ã€‚

---

## ğŸ“‹ å¼€å‘æ£€æŸ¥æ¸…å•

- [ ] åˆ›å»ºAIä»»åŠ¡ç®¡ç†é¡µé¢æ¨¡æ¿ï¼ˆ`templates/admin/ai_tasks.html`ï¼‰
- [ ] åˆ›å»ºä»»åŠ¡è¯¦æƒ…é¡µé¢æ¨¡æ¿ï¼ˆ`templates/admin/ai_task_detail.html`ï¼‰
- [ ] å®ç°ä»»åŠ¡åˆ—è¡¨APIï¼ˆ`GET /api/admin/ai/tasks`ï¼‰
- [ ] å®ç°ä»»åŠ¡è¯¦æƒ…APIï¼ˆ`GET /api/admin/ai/tasks/<task_id>`ï¼‰
- [ ] å®ç°ä¸Šä¼ å›¾ç‰‡APIï¼ˆ`POST /api/admin/ai/tasks/<task_id>/upload-image`ï¼‰
- [ ] å®ç°é‡æ–°å¤„ç†APIï¼ˆ`POST /api/admin/ai/tasks/<task_id>/retry`ï¼‰
- [ ] å®ç°å–æ¶ˆä»»åŠ¡APIï¼ˆ`POST /api/admin/ai/tasks/<task_id>/cancel`ï¼‰
- [ ] å®ç°ç­›é€‰å’Œæœç´¢åŠŸèƒ½
- [ ] å®ç°å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
- [ ] å®ç°å¤„ç†æ—¥å¿—æ˜¾ç¤º
- [ ] å®ç°å®æ—¶æ›´æ–°ï¼ˆè½®è¯¢ï¼‰
- [ ] æ·»åŠ æƒé™æ§åˆ¶ï¼ˆä»…ç®¡ç†å‘˜å¯è®¿é—®ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**åˆ›å»ºæ—¶é—´**ï¼š2026-01-14  
**æœ€åæ›´æ–°**ï¼š2026-01-14
