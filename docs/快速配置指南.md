# 🚀 快速配置指南

## 核心原则

**只需要修改 2 个文件，即可切换所有地址！**

## 📍 配置文件位置

### 1. 后端配置（管理后台 + API）
**文件：** `AI-studio/server_config.py`

**修改位置：**
```python
ENV = 'local'  # 改为 'local' 或 'production'
```

### 2. 前端配置（小程序）
**文件：** `AI-小程序/config.js`

**修改位置：**
```javascript
const ENV = 'local';  // 改为 'local' 或 'production'
```

## ⚡ 快速切换

### 切换到本地环境（开发调试）

**后端：**
```bash
cd AI-studio
switch_env_local.bat
```

**前端：**
```bash
cd AI-小程序
switch_to_local.bat
```

### 切换到生产环境（上线）

**后端：**
```bash
cd AI-studio
switch_env_production.bat
```

**前端：**
```bash
cd AI-小程序
switch_to_production.bat
```

## 📋 配置影响范围

### 后端配置（server_config.py）影响：
- ✅ 所有API返回的URL
- ✅ 管理后台页面（通过模板变量自动注入）
- ✅ 订单信息中的系统地址
- ✅ 二维码链接
- ✅ 支付回调地址
- ✅ 所有图片URL生成

### 前端配置（config.js）影响：
- ✅ 小程序所有API请求
- ✅ 小程序图片加载
- ✅ 小程序静态资源
- ✅ 所有页面文件的网络请求

## ⚠️ 重要提示

1. **修改后需要重启**
   - 后端：重启 Flask 服务
   - 前端：清除缓存并重新编译小程序

2. **确保环境一致**
   - 后端和前端应该使用相同的环境
   - 都是 `local` 或都是 `production`

3. **本地环境设置**
   - 微信开发者工具：详情 → 本地设置
   - 勾选"不校验合法域名"

## 📚 详细文档

- 后端配置：`AI-studio/统一配置中心.md`
- 前端配置：`AI-小程序/统一配置说明.md`
